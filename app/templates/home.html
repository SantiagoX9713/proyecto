{% extends 'base.html' %}
{% import 'macros.html' as macros %}
{% import 'bootstrap/wtf.html' as wtf %}
<!-- Bloques de contenido para poder mandarlo a un template padre -->
{% block title %}
    {{super()}}Bienvenido
    {% endblock %}
<!-- Bloques de contenido para poder mandarlo a un template padre -->
{% block content %}
    <div class="container mt-3">
    {% if username %}
        <h1>Bienvenido {{username | capitalize}}</h1>
    {% endif %}
    <!-- Ahora accedemos normalmente a las variables -->
    <!-- Aquì desplegamos el campo para crear nuevas tareas, debo de encontrar la manera de mantenerlo oculto hasta que
    haya un clic sobre un botón -->
    <div class="container">
        <h2>Crar una tarea</h2>
        {{wtf.quick_form(todo_form)}}
    </div>
    <div class="container mt-3">
        <h2>Lista de Tareas</h2>
        <div class="progress mb-4 mt-4">
            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{advance}}" aria-valuemin="0" aria-valuemax="100" style="width: {{advance}}%;">
              {{advance}}%
            </div>
          </div>
        <ul class="list-group container">
            {% for todo in todos %}
                {{ macros.render_todo(todo, delete_form, update_form) }}
            {% endfor %}
        </ul>
    
    </div>
</div>
{% endblock %}   